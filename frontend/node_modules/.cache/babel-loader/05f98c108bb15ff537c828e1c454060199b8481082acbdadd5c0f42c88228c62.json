{"ast":null,"code":"import Action from \"../Actions\";\nlet initial_state = {\n  'dialogs_data': [{\n    'id': 1,\n    'name': 'Andrew'\n  }, {\n    'id': 2,\n    'name': 'Dmitry'\n  }, {\n    'id': 3,\n    'name': 'Sasha'\n  }, {\n    'id': 4,\n    'name': 'Valera'\n  }, {\n    'id': 5,\n    'name': 'Victor'\n  }, {\n    'id': 6,\n    'name': 'Carl'\n  }, {\n    'id': 7,\n    'name': 'Lera'\n  }, {\n    'id': 8,\n    'name': 'Marat'\n  }, {\n    'id': 9,\n    'name': 'Andrea'\n  }, {\n    'id': 10,\n    'name': 'Vlad'\n  }],\n  'messages_data': [{\n    'id': 1,\n    'messages': [{\n      'id': 1,\n      'name': 'Andrew',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }, {\n      'id': 2,\n      'name': 'Me',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }],\n    'new_message': \"\"\n  }, {\n    'id': 2,\n    'messages': [{\n      'id': 2,\n      'name': 'Me',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }],\n    'new_message': \"\"\n  }, {\n    'id': 3,\n    'messages': [{\n      'id': 1,\n      'name': 'Sasha',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }],\n    'new_message': \"\"\n  }, {\n    'id': 4,\n    'messages': [{\n      'id': 1,\n      'name': 'Valera',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }, {\n      'id': 2,\n      'name': 'Me',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }],\n    'new_message': \"\"\n  }, {\n    'id': 5,\n    'messages': [{\n      'id': 2,\n      'name': 'Me',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }],\n    'new_message': \"\"\n  }, {\n    'id': 6,\n    'messages': [{\n      'id': 1,\n      'name': 'Carl',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }, {\n      'id': 2,\n      'name': 'Me',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }],\n    'new_message': \"\"\n  }, {\n    'id': 7,\n    'messages': [{\n      'id': 2,\n      'name': 'Me',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }],\n    'new_message': \"\"\n  }, {\n    'id': 8,\n    'messages': [{\n      'id': 1,\n      'name': 'Marat',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }],\n    'new_message': \"\"\n  }, {\n    'id': 9,\n    'messages': [{\n      'id': 1,\n      'name': 'Andrea',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }, {\n      'id': 2,\n      'name': 'Me',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }],\n    'new_message': \"\"\n  }, {\n    'id': 10,\n    'messages': [{\n      'id': 1,\n      'name': 'Vlad',\n      'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n    }],\n    'new_message': \"\"\n  }]\n};\nexport const dialogsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initial_state;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const getMessageSetById = message_set_id => {\n    let messages_data = stateCopy.messages_data;\n    let message_set_index = messages_data.findIndex(message_set => message_set.id === message_set_id);\n    return messages_data[message_set_index];\n  };\n  switch (action.type) {\n    case Action.ADD_MESSAGE:\n      {\n        let stateCopy = structuredClone(state);\n        let message_set = getMessageSetById(action.message_set_id);\n        let messages_data = stateCopy.messages_data;\n        let message_set_index = messages_data.findIndex(message_set => message_set.id === message_set_id);\n        return messages_data[message_set_index];\n        message_set.messages.push({\n          'id': 3,\n          'name': 'Me',\n          'content': message_set.new_message\n        });\n        message_set.new_message = \"\";\n        return stateCopy;\n      }\n    case Action.UPDATE_MESSAGE:\n      {\n        let stateCopy = structuredClone(state);\n        const getMessageSetById = messaged_set_id => {\n          let messages_data = stateCopy.messages_data;\n          let message_set_index = messages_data.findIndex(message_set => message_set.id === messaged_set_id);\n          return messages_data[message_set_index];\n        };\n        let message_set = getMessageSetById(action.message_set_id);\n        message_set.new_message = action.new_message;\n        return stateCopy;\n      }\n    default:\n      return structuredClone(state);\n  }\n};\nexport default dialogsReducer;","map":{"version":3,"names":["Action","initial_state","dialogsReducer","state","arguments","length","undefined","action","getMessageSetById","message_set_id","messages_data","stateCopy","message_set_index","findIndex","message_set","id","type","ADD_MESSAGE","structuredClone","messages","push","new_message","UPDATE_MESSAGE","messaged_set_id"],"sources":["/home/adm1/Desktop/react_app/projects/project_1/my-app/src/redux/reducers/dialogsReducer.js"],"sourcesContent":["import Action from \"../Actions\";\n\nlet initial_state = {\n\t'dialogs_data': [\n\t\t{'id': 1, 'name': 'Andrew'},\n\t\t{'id': 2, 'name': 'Dmitry'},\n\t\t{'id': 3, 'name': 'Sasha'},\n\t\t{'id': 4, 'name': 'Valera'},\n\t\t{'id': 5, 'name': 'Victor'},\n\t\t{'id': 6, 'name': 'Carl'},\n\t\t{'id': 7, 'name': 'Lera'},\n\t\t{'id': 8, 'name': 'Marat'},\n\t\t{'id': 9, 'name': 'Andrea'},\n\t\t{'id': 10, 'name': 'Vlad'},\n\t],\n\t'messages_data': [\n\t\t{\n\t\t\t'id': 1, 'messages': [\n\t\t\t\t{\n\t\t\t\t\t'id': 1,\n\t\t\t\t\t'name': 'Andrew',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'id': 2,\n\t\t\t\t\t'name': 'Me',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t}\n\t\t\t],\n\t\t\t'new_message': \"\",\n\t\t},\n\t\t{\n\t\t\t'id': 2, 'messages': [\n\t\t\t\t{\n\t\t\t\t\t'id': 2,\n\t\t\t\t\t'name': 'Me',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t}\n\t\t\t],\n\t\t\t'new_message': \"\",\n\t\t},\n\t\t{\n\t\t\t'id': 3, 'messages': [\n\t\t\t\t{\n\t\t\t\t\t'id': 1,\n\t\t\t\t\t'name': 'Sasha',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t},\n\t\t\t],\n\t\t\t'new_message': \"\",\n\t\t},\n\t\t{\n\t\t\t'id': 4, 'messages': [\n\t\t\t\t{\n\t\t\t\t\t'id': 1,\n\t\t\t\t\t'name': 'Valera',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'id': 2,\n\t\t\t\t\t'name': 'Me',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t}\n\t\t\t],\n\t\t\t'new_message': \"\",\n\t\t},\n\t\t{\n\t\t\t'id': 5, 'messages': [\n\t\t\t\t{\n\t\t\t\t\t'id': 2,\n\t\t\t\t\t'name': 'Me',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t}\n\t\t\t],\n\t\t\t'new_message': \"\",\n\t\t},\n\t\t{\n\t\t\t'id': 6, 'messages': [\n\t\t\t\t{\n\t\t\t\t\t'id': 1,\n\t\t\t\t\t'name': 'Carl',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'id': 2,\n\t\t\t\t\t'name': 'Me',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t}\n\t\t\t],\n\t\t\t'new_message': \"\",\n\t\t},\n\t\t{\n\t\t\t'id': 7, 'messages': [\n\t\t\t\t{\n\t\t\t\t\t'id': 2,\n\t\t\t\t\t'name': 'Me',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t}\n\t\t\t],\n\t\t\t'new_message': \"\",\n\t\t},\n\t\t{\n\t\t\t'id': 8, 'messages': [\n\t\t\t\t{\n\t\t\t\t\t'id': 1,\n\t\t\t\t\t'name': 'Marat',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t},\n\t\t\t],\n\t\t\t'new_message': \"\",\n\t\t},\n\t\t{\n\t\t\t'id': 9, 'messages': [\n\t\t\t\t{\n\t\t\t\t\t'id': 1,\n\t\t\t\t\t'name': 'Andrea',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'id': 2,\n\t\t\t\t\t'name': 'Me',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t}\n\t\t\t],\n\t\t\t'new_message': \"\",\n\t\t},\n\t\t{\n\t\t\t'id': 10, 'messages': [\n\t\t\t\t{\n\t\t\t\t\t'id': 1,\n\t\t\t\t\t'name': 'Vlad',\n\t\t\t\t\t'content': `Lorem ipsum dolor sit amet, consectetur adipisicing`\n\t\t\t\t},\n\t\t\t],\n\t\t\t'new_message': \"\",\n\t\t},\n\t]\n}\n\nexport const dialogsReducer = (state = initial_state, action) => {\n\n\tconst getMessageSetById = (message_set_id) => {\n\t\tlet messages_data = stateCopy.messages_data\n\t\tlet message_set_index = messages_data.findIndex(\n\t\t\tmessage_set => message_set.id === message_set_id\n\t\t)\n\t\treturn messages_data[message_set_index]\n\t}\n\t\n\tswitch (action.type) {\n\t\tcase Action.ADD_MESSAGE: {\n\t\t\tlet stateCopy = structuredClone(state)\n\t\t\tlet message_set = getMessageSetById(action.message_set_id)\n\t\t\t\n\t\t\tlet messages_data = stateCopy.messages_data\n\t\t\tlet message_set_index = messages_data.findIndex(\n\t\t\t\tmessage_set => message_set.id === message_set_id\n\t\t\t)\n\t\t\treturn messages_data[message_set_index]\n\t\t\t\n\t\t\t\n\t\t\tmessage_set.messages.push({\n\t\t\t\t'id': 3,\n\t\t\t\t'name': 'Me',\n\t\t\t\t'content': message_set.new_message,\n\t\t\t});\n\t\t\tmessage_set.new_message = \"\"\n\t\t\treturn stateCopy\n\t\t}\n\t\tcase Action.UPDATE_MESSAGE: {\n\t\t\tlet stateCopy = structuredClone(state)\n\t\t\t\n\t\t\tconst getMessageSetById = (messaged_set_id) => {\n\t\t\t\tlet messages_data = stateCopy.messages_data\n\t\t\t\tlet message_set_index = messages_data.findIndex(\n\t\t\t\t\tmessage_set => message_set.id === messaged_set_id\n\t\t\t\t)\n\t\t\t\treturn messages_data[message_set_index]\n\t\t\t}\n\t\t\t\n\t\t\tlet message_set = getMessageSetById(action.message_set_id)\n\t\t\tmessage_set.new_message = action.new_message\n\t\t\treturn stateCopy\n\t\t}\n\t\tdefault: return structuredClone(state)\n\t}\n}\n\nexport default dialogsReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}